<!-- Do not edit this file. This file is autogenerated from '/home/matej/Documents/speedith/docs/README'. --><h1>Developer's Guide to <em>Speedith</em></h1>
<hr />
<h2>Using Speedith in Isabelle/HOL</h2>
<p><em>Diabelli</em> (the name of the Speedith/Isabelle integration) requires some special
settings for Isabelle. You can find sample settings in the Speedith
distribution's '<code>settings</code>' file.</p>
<p>You can either edit your existing Isabelle settings, or copy the included
'<code>devel/Theories/settings</code>' file to Isabelle's user settings folder (e.g.
'<code>~/.isabelle/Isabelle2011-1/etc/</code>').</p>
<hr />
<h2>Building and developing using IDEs</h2>
<p>An easy way to build and develop Speedith is to install either
<a href="http://netbeans.org/downloads/">NetBeans</a> or the
<a href="http://www.eclipse.org/downloads/">Eclipse</a> IDEs.</p>
<p>In any case, you have to make sure that all of Speedith's dependencies are
installed (and configured in your IDE). You can find a list of dependencies in
the <em>Requirements</em> section below.</p>
<p>Main development of Speedith is done in <strong>NetBeans</strong>. Eclipse is currently not
supported out of the box, but there is no technical reason why it would not work
(importing the Speedith's source folder should do the trick).</p>
<hr />
<h2>General Requirements</h2>
<p>These requirements have to be checked only once. After you make sure you have
these, you can build Speedith at any time.</p>
<ul>
<li>
<p><strong>Speedith sources</strong>: You can get the sources of Speedith from
    <a href="http://gitorious.org/speedith">Gitorious</a>.</p>
<p>You may simply want to execute this in the command line:</p>
<pre><code>    git clone git://gitorious.org/speedith/speedith.git speedith
    cd speedith
</code></pre>
</li>
<li>
<p><strong>iCircles sources</strong>: You can get the sources of iCircles from
    <a href="http://gitorious.org/speedith/inductive_circles">Gitorious</a>.</p>
<p>You may simply want to execute this in the command line:</p>
<pre><code>    git clone git://gitorious.org/speedith/inductive_circles.git inductive_circles
    cd inductive_circles
</code></pre>
</li>
<li>
<p><strong>Apache Ant</strong>: Speedith can be built with <a href="http://ant.apache.org/">Ant</a>
    (which is a Java-based build automation tool, similar to <code>make</code>). The
    minimum required version of Ant can be determined by running:</p>
<pre><code>    grep 'antversion atleast=' devel/Speedith/nbproject/build-impl.xml
</code></pre>
<p>You can install Ant via your operating system's package management system,
or by downloading it from <a href="http://ant.apache.org/bindownload.cgi">http://ant.apache.org/bindownload.cgi</a>.</p>
<p>Make sure that the <code>ant</code> executable is available from the command line in
the root folder of Speedith (or make sure that you know where the <code>ant</code>
executable is located).</p>
<p>You can check your version of Ant by running:</p>
<pre><code>    ant -version
</code></pre>
</li>
<li>
<p><strong>ANTLRv3</strong>: Speedith uses the
    <em><a href="http://www.antlr.org/download.html">ANTLRv3 Java Runtime</a></em> for parsing the
    textual representation of spider diagrams.</p>
<p>One way of getting ANTLRv3:</p>
<pre><code>    wget 'http://www.antlr.org/download/antlr-3.3.tar.gz'
    tar -xzf antlr-3.3.tar.gz
</code></pre>
<p>There should be the <code>./antlr-3.3/runtime/Java/target/antlr-runtime-3.3.jar</code> 
file, which is the runtime library dependency required by Speedith. Also
needed by Speedith is the <code>./antlr-3.3/lib/antlr-3.3-complete.jar</code> file, which
is needed only during the compilation stage (not a runtime dependency).</p>
</li>
<li>
<p><strong>Apache Commons CLI</strong>: Speedith uses <a href="http://commons.apache.org/cli/">Apache Commons CLI</a>
    for command line parsing. You can download the library from <a href="http://commons.apache.org/cli/download_cli.cgi">here</a>.</p>
<p>An example of how to get it with <code>wget</code>:</p>
<pre><code>    wget 'http://mirror.lividpenguin.com/pub/apache//commons/cli/binaries/commons-cli-1.2-bin.tar.gz'
    tar -xzf commons-cli-1.2-bin.tar.gz
</code></pre>
<p>The <code>./commons-cli-1.2/commons-cli-1.2.jar</code> is the file we're after.</p>
</li>
</ul>
<hr />
<h2>Manual build process</h2>
<p><strong>Note</strong>: the instructions below assume the following:</p>
<ul>
<li>the <em>current working directory</em> is the <strong>root of the Speedith repository</strong>.</li>
<li>the <code>ant</code> executable is in your <code>PATH</code> environment variable.</li>
<li>the <em>iCircles</em> sources are reachable via the <code>../inductive_circles</code> path.
    from the root of the Speedith repository.</li>
<li>you know the paths of <code>antlr-3.3-complete.jar</code>, <code>antlr-runtime-3.3.jar</code> and
    <code>commons-cli-1.2.jar</code> files (the instructions will use dummy paths).</li>
</ul>
<p>To build and run Speedith, perform the following steps:</p>
<ol>
<li>
<p>Being in the repository's root folder, run:</p>
<pre><code>    ../apache-ant-1.8.2/bin/ant --noconfig \
        -Dlibs.ANTLRv3.classpath=./antlr-3.3/runtime/Java/target/antlr-runtime-3.3.jar \
        -Dantlr3.tool.jar=./antlr-3.3/lib/antlr-3.3-complete.jar \
        -Dlibs.JakartaCLI.classpath=./commons-cli-1.2/commons-cli-1.2.jar \
        -f devel/Speedith/build.xml jar
</code></pre>
</li>
<li>
<p>Run Speedith (again from the root folder of the <code>Speedith</code> repository):</p>
<pre><code>    java -cp "./devel/Speedith.Core/dist/Speedith.Core.jar:./antlr-3.3/runtime/Java/target/antlr-runtime-3.3.jar:./commons-cli-1.2/commons-cli-1.2.jar:./devel/Speedith/dist/Speedith.jar:../inductive_circles/devel/iCircles/dist/iCircles.jar" speedith.Main
</code></pre>
</li>
</ol>
<hr />
<h1>Building <em>Diabelli</em></h1>
<p>The Isabelle driver for Diabelli currently depends on <em>I3P</em>. The sources of the
I3P framework are available from <a href="http://www-pu.informatik.uni-tuebingen.de/i3p/">the I3P's official web
page</a>.</p>
<p>Note that all other Diabelli components do not depend on I3P, which makes them
usable in a plain NetBeans platform (without I3P modules).</p>
<hr />
<h1>Using <em>Hyperblocks</em></h1>
<p>The Blocksworld component requires an past version of JOGL (both the Java JAR
package and related platform-specific binaries). This can be obtained through
the installation package provided through Openbox. For example, the RPM package
<code>LPL-11_09-linux-rpm-installer.sh</code> will install the <code>jogl</code> binaries in the
folder <code>/usr/share/OP-jre/lib/i386/</code> (this folder must be placed into
<code>java.library.path</code> or you can create a symbolic link from one of the existing
empty folders in the path, for example <code>/usr/java/packages/lib/i386</code> on Fedora
16). To obtain the Java JAR <code>jogl.jar</code> package, contact
<a href="http://www-csli.stanford.edu/hp/">Stanford CSLI</a>.</p>
<p>Note that this works only with 32-bit versions of Java.</p>
<p><strong>Below are my notes from trying to make Hyperblocks work on a 64-bit Linux
machine. After trying for a while, I finally gave up. Maybe somebody will find
these notes useful:</strong></p>
<p>On 64-bit machines, one
also has to install the following packages:</p>
<ul>
<li><code>mesa-libGLU.i686</code></li>
</ul>
<h2>Getting JOGL from sources</h2>
<p>If for some reason things keep failing, you might want to get JOGL yourself.</p>
<p>Since Hyperblocks uses an old version of JOGL (one that uses package names such
as <code>net.java.games.jogl</code>), you'll have to dig in the history of the <a href="http://kenai.com/projects/jogl/sources/jogl-git/content/src/net/java/games/jogl/DefaultGLCapabilitiesChooser.java?rev=8da5bfa2d72282bfdcd2889a70a93a4072221a1c">JOGL git
repository</a>.</p>
<p>To get the sources issue the following command:</p>
<pre><code>git clone git://kenai.com/jogl~jogl-git
</code></pre>
<p>It seems like the last revision before the merge of JSR-231 (which changed the
package names) was <code>42843c3290d64c41c9c8a18b93f5ad3c00d35ddc</code>.</p>
<p>Afterwards follow the guide <code>jogl~jogl-git/doc/HowToBuild.html</code> in the
repository.</p>
<p>If you are building on a 64-bit machine, open the <code>make/build.xml</code> file, find:</p>
<pre><code>&lt;compiler id="compiler.cfg.linux" name="gcc"&gt;
</code></pre>
<p>and change it to:</p>
<pre><code>&lt;compiler id="compiler.cfg.linux" name="gcc"&gt;
    &lt;compilerarg value="-m32"/&gt;
&lt;/compiler&gt;
</code></pre>
<h3>Notes</h3>
<p>I had the following errors while trying to build JOGL:</p>
<ol>
<li>
<p>Error message:</p>
<pre><code>    /home/matej/Documents/jogl~jogl-git/make/build.xml:1105: The following error occurred while executing this line:
    /home/matej/Documents/jogl~jogl-git/make/build.xml:866: The following error occurred while executing this line:
    /home/matej/Documents/jogl~jogl-git/make/build.xml:821: /usr/X11R6/lib does not exist.
</code></pre>
<p>Solution:</p>
<p>Replace every occurrence of <code>/usr/X11R6</code> into <code>/usr/lib</code>.</p>
</li>
<li>
<p>Error message (probably only on 64-bit):</p>
<pre><code>    /home/matej/Documents/jogl~jogl-git/make/build.xml:1105: The following error occurred while executing this line:
    /home/matej/Documents/jogl~jogl-git/make/build.xml:866: The following error occurred while executing this line:
    /home/matej/Documents/jogl~jogl-git/make/build.xml:821: /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.3.x86_64/jre/lib/i386 does not exist.
</code></pre>
<p>Solution:</p>
<p>In the <code>jogl.properties</code> file set the <code>java.home.dir</code> to a 32-bit JVM:</p>
<pre><code>java.home.dir=/usr/lib/jvm/java-1.7.0-openjdk
</code></pre>
</li>
<li>
<p>Error message (in C compilation stage):</p>
<pre><code>           [cc] In file included from /home/matej/Documents/jogl~jogl-git/src/native/jogl/JAWT_DrawingSurfaceInfo.c:40:0:
           [cc] /usr/lib/jvm/java-1.7.0-openjdk/include/linux/jawt_md.h:31:27: fatal error: X11/Intrinsic.h: No such file or directory
           [cc] compilation terminated.

    BUILD FAILED
    /home/matej/Documents/jogl~jogl-git/make/build.xml:1105: The following error occurred while executing this line:
    /home/matej/Documents/jogl~jogl-git/make/build.xml:866: The following error occurred while executing this line:
    /home/matej/Documents/jogl~jogl-git/make/build.xml:821: gcc failed with return code 1
</code></pre>
<p>Solution:</p>
<p>Install this:</p>
<pre><code>    yum install libXt-devel.i686
</code></pre>
</li>
<li>
<p>Message (and other similar ones):</p>
<pre><code>    [cc] /usr/include/gnu/stubs.h:7:27: fatal error: gnu/stubs-32.h: No such file or directory
    [cc] compilation terminated.
</code></pre>
<p>Solution: Install:</p>
<pre><code>yum install glibc-devel.i686
</code></pre>
</li>
<li>
<p>Missing libraries (on a 64-bit machine):</p>
<pre><code>    [cc] Starting link
    [cc] /usr/bin/ld: cannot find -lGL
    [cc] /usr/bin/ld: cannot find -lGLU
    [cc] /usr/bin/ld: skipping incompatible /usr/lib/jvm/java-1.7.0-openjdk/jre/lib/i386/libjawt.so when searching for -ljawt
    [cc] /usr/bin/ld: cannot find -ljawt
    [cc] /usr/bin/ld: skipping incompatible /usr/lib/libc.so when searching for -lc
    [cc] collect2: ld returned 1 exit status
</code></pre>
<p>Solution:</p>
</li>
</ol>